<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>移动端装修黄历</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
    <meta content="telephone=no" name="format-detection" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="stylesheet" href="css/m-reset.css">
    <link rel="stylesheet" href="font/font-awesome.min.css">
    <link rel="stylesheet" href="css/zxhl.css">
    <link href="css/qzCitySelect.css" rel="stylesheet" type="text/css"/>
</head>
<body>
	<div class="hl_body">
        <div class="hl_top">
            <div class="hl_content">
                <div class="sm_one">
                    <div class="sm_title">
                        开工<span>吉</span><span>日</span>拿不准？
                    </div>
                    <div class="sm-by">
                        <div class="clound pull-left"> </div>
                        <div class="pull-left by_nr"> 10秒测算最佳装修吉日 </div>
                        <div class="clound pull-right"></div>
                    </div>
                </div>

              <div class="sm_two">
                    <div class="step active">
                        <div class="step_radius">1</div>
                    </div>
                    <div class="step">
                        <div class="step_radius">2</div>
                    </div>
                    <div class="step">
                        <div class="step_radius">3</div>
                    </div>
                    <div class="step">
                        <div class="step_radius">4</div>
                    </div>
                </div>
                <div class="sm-three">
                    <ul id="question_list">
                      <li>
                          <div class="question_title">您家准备什么时候开始装修</div>
                          <div class="question_chose one">
                              <div class="question_item">
                                  <div class="fa fa-circle-o item_circle"></div>半个月内
                              </div>
                              <div class="question_item">
                                  <div class="fa fa-circle-o item_circle"></div>1个月内
                              </div>
                              <div class="question_item">
                                  <div class="fa fa-circle-o item_circle"></div>3个月内
                              </div>
                              <div class="question_item">
                                  <div class="fa fa-circle-o item_circle"></div>3个月以上
                              </div>
                          </div>
                      </li>
                      <li>
                          <div class="question_title">您家房屋的朝向</div>
                          <div class="question_chose two">
                              <div class="question_item">
                                  <img src="images/cx_1.png" alt="" class="one_img">
                                  <img src="images/cx_1_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>朝南</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/cx_2.png" alt="" class="one_img">
                                  <img src="images/cx_2_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>朝北</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/cx_3.png" alt="" class="one_img">
                                  <img src="images/cx_3_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>朝东</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/cx_4.png" alt="" class="one_img">
                                  <img src="images/cx_4_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>朝西</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/cx_5.png" alt="" class="one_img">
                                  <img src="images/cx_5_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>不太清楚</p>
                              </div>
                          </div>
                      </li>
                      <li class="age">
                          <div class="question_title">您的姓氏和年龄</div>
                          <div class="question_chose three">
                             <div class="input_box family">
                                <input type="text" name="family" placeholder="请输入您的姓氏">
                             </div>
                              <div class="question_item">
                                  <img src="images/old_1.png" alt="" class="one_img">
                                  <img src="images/old_1_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>25岁以下</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/old_2.png" alt="" class="one_img">
                                  <img src="images/old_2_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>25~35岁</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/old_3.png" alt="" class="one_img">
                                  <img src="images/old_3_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>35~45岁</p>
                              </div>
                              <div class="question_item">
                                  <img src="images/old_4.png" alt="" class="one_img">
                                  <img src="images/old_4_1.png" alt="" class="two_img">
                                  <p><div class="fa fa-circle-o item_circle"></div>45岁以上</p>
                              </div>

                          </div>
                      </li>
                      <li>
                          <div class="question_title four">选择房屋所在的城市</div>
                          <div id="city_2" class="input_box">
                                  <gt name="mapUseInfo.vipcount" value="0">
                                      <button id="showCityPicker2" class="c-zb-city-qixi" type="button">
                                          <i class="fa fa-map-marker"></i>
                                          <empty name="info.cityarea">
                                              请选择您所在的区域
                                              <else/>
                                              {$mapUseInfo.provincefull} {$mapUseInfo.name} {$info.cityarea.name}
                                          </empty>
                                      </button>
                                      <input type="hidden" name="province" data-id="">
                                      <input type="hidden" name="city" data-id="">
                                      <input type="hidden" name="area" data-id="">
                                      <else/>
                                      <button id="showCityPicker2" class="c-zb-city" type="button">
                                          <i class="fa fa-map-marker"></i>
                                          请选择您所在的区域
                                      </button>
                                      <input type="hidden" name="province" data-id="">
                                      <input type="hidden" name="city" data-id="">
                                      <input type="hidden" name="area" data-id="">
                                  </gt>
                          </div>
                          <div class="input_box">
                              <input type="telphone" maxlength="11" placeholder="输入手机号码，获取测算吉日" name="telphone_number" value="">
                          </div>
                      </li>

                        <li>
                            <div class="cs_result">您的最佳装修吉日</div>
                            <div class="result_container">
                                <div class="pull-left result-date">
                                    <div class="date-default">2017年10月14日</div>
                                    <div class="big-num">14</div>
                                    <div class="big-han">八月 廿六</div>
                                    <div class="suggest">
                                        <div class="pull-left yi">宜：</div>
                                        <div class="pull-left yi-content">纳采，订盟，祭祀，祈福，求嗣</div>
                                    </div>
                                </div>
                                <div class="pull-right result-fen">
                                    <div class="result-fen-box">
                                        <p>吉日评分</p>
                                        <p>98分</p>
                                    </div>
                                </div>
                            </div>
                            <div class="other-jiri ">
                                <p class="result_container">其他装修吉日：</p>
                                <div class="other-list result_container">
                                    <div class="pull-left">
                                        <div class="other-content">
                                            <p>八月 廿八</p>
                                            <p>2017年10月14日</p>
                                            <p>吉日评分：<span>98分</span></p>
                                        </div>
                                    </div>
                                    <div class="pull-left">
                                        <div class="other-content">
                                            <p>八月 廿八</p>
                                            <p>2017年10月14日</p>
                                            <p>吉日评分：<span>98分</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="hl_bottom">
            <div id="prev" ><上一页</div>
            <div id="next" class="current_page">下一页></div>
            <div id="cesuan">立即测算</div>
            <div id="resuan">重新测算</div>
        </div>
    </div>
     <script src="js/jquery-1.8.3.min.js"></script>
    <!-- <script type="text/javascript" src="js/TouchSlide.1.1.js"></script>
    <script type="text/javascript"
            src="http://api.map.baidu.com/api?v=2.0&ak=12a80d1749e9de182e12c6201d5e191c"></script>
    <script type="text/javascript" src="js/geolocation.js"></script>
    <script type="text/javascript" src="http://{:C('QINIU_DOMAIN')}/{:OP('ALL_REAL_VIP_PCA_JSON')}"></script>
     <script type="text/javascript" src="js/rlpca20170608083808.js"></script>
    <script type="text/javascript" src="js/jroll.js"></script>
    <script type="text/javascript" src="js/qzCitySelect.js?v=1.0"></script> -->

    <script>
        $(document).ready(function () {
            var question_num=0;
            var question=$("#question_list li");
            var step=$(".sm_two .step");
            var answer=[{"value":""},{"value":""},{"family":"","value":""},{"addr":"","number":""}];
            // 城市选择插件
            // selectQz.init({
            //     province: $("input[name=province]").attr("data-id"),
            //     city: $("input[name=city]").attr("data-id"),
            //     area: $("input[name=area]").attr("data-id")
            // });
            function init_question(){
                $("#next").css("display","inline-block");
            }


            //初始化问题
            init_question();


            //下一页 以及当前题目验证
            $("#next").click(function(){
                console.log(answer[question_num].value)
                if(answer[question_num].value==""&&answer[question_num].hasOwnProperty('value')){
                    alert("请选择本题选项！");
                    return false;
                }
                if(question_num==2){
                    answer[question_num].family=$("input[name='family']").val();
                    if(answer[question_num].family==""){
                        alert("请输入您的贵姓！");
                        return false;
                    }
                }
                $(this).addClass('current_page');
                $(this).siblings().removeClass("current_page");
                $("#prev").css("display","inline-block");
                if(question_num<3){
                    question_num++;
                    $(question[question_num]).css("display","block");
                    $(question[question_num]).siblings().css("display","none");
                    setStep(question_num);
                    if(question_num==3){
                        $(this).css("display","none");
                        $("#cesuan").css("display","inline-block").addClass('current_page');
                    }
                }
            });


            //上一页
            $("#prev").click(function(){
                $(this).addClass('current_page');
                $(this).siblings().removeClass("current_page");
                $("#prev").css("display","inline-block");
                $("#next").css("display","inline-block");
                $("#cesuan").css("display","none");
                if(question_num>0){
                    question_num--;
                    $(question[question_num]).css("display","block");
                    $(question[question_num]).siblings().css("display","none");
                    setStep(question_num);
                }
            });


            //立即测算,最后一题验证
            $("#cesuan").click(function(){
                $("#resuan").css("display","inline-block");
                $("#resuan").addClass('current_page');
                $("#resuan").siblings().css("display","none");
                $(question[4]).css("display","block");
                $(question[4]).siblings().css("display","none");
                $(".sm_one,.sm_two").css("display","none");
                answer[3].addr=$("input[name='province']").attr("data-id")+","+$("input[name=city]").attr("data-id")+","+$("input[name=area]").attr("data-id");
                answer[3].number=$("input[name='telphone_number']").val();
                if(answer[3].addr==""){
                    alert("请选择你所在的区域！");
                    return false;
                }
                if(answer[3].tel==""){
                    alert("请输入您的电话号码！");
                    return false;
                }

                //提交答案
                console.log(answer);
            });


            //重新测算
            $("#resuan").click(function(){
                location.href="/zxhl";
            });

            //当前答题进度
            function setStep(num){
                step.removeClass("active");
                $(step[num]).addClass('active');
                /*for(var i=0;i<=num;i++){
                    $(step[i]).addClass('active');
                }*/
            }
            //选择题选择答案
            $(".question_item").click(function(){
                var index=$(this).parent().parent().index();
                var result=$(this).index()+1;
                $(this).addClass("hasChose");
                $(this).siblings().removeClass("hasChose");
                $(this).children("div").attr("class","fa fa-check-circle item_circle");
                $(this).siblings().children("div").attr("class","fa fa-circle-o item_circle");
                if(index!=3){
                    answer[index].value=result;
                }
            });
        });
    </script>
</body>
</html>