<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>个人信息修改</title>
	<link rel="stylesheet" href="css/public-new.css">
     <link rel="stylesheet" href="css/layer.css">
	<link rel="stylesheet" href="css/inforationchange.css">
</head>
<body>
	<div class="wrap">
		<div class="bannerbj">
			<img src="img/information01.jpg" alt="">
		</div>
		<div class="xinxquyu">
			<div class="touxiang">
				<img src="img/touxiang.png" alt="">
			</div>
			<div class="nicheng fujixz">
				<div class="leftbianji">风琴先生</div>
				<div class="rightbianji">
					<div class="bianjicunqu yincang">
						<span class="savebc namesave">保存</span>
			            <span class="cancelqx">取消</span>
					</div>
			        <div class="xiugai" data-ji="namegai"><span>修改</span></div>
				</div>
				<div class="middlebianji">
                    <input class="nameinput" type="text">
			   </div>	
			</div>
			<div class="sexxb fujixz">
				<div class="leftbianji smallfont">性别</div>
				<div class="rightbianji">
					<div class="bianjicunqu yincang">
				        <span class="savebc sexsave">保存</span>
				        <span class="cancelqx">取消</span>
				     </div>
				     <div class="xiugai" data-ji="sexgai"><span>填写</span></div>
				</div>
				<div class="middlebianji">
					<span class="xingbie"></span>
                    <select class="sexselect" name="" id="">
                    	<option value="请选择">请选择</option>
                    	<option value="男">男</option>
                    	<option value="女">女</option>
                    </select>
			   </div>
			</div>
			<div class="areadq fujixz">
				<div class="leftbianji smallfont">地区</div>
				<div class="rightbianji">
					<div class="bianjicunqu yincang">
				        <span class="savebc areasave">保存</span>
				        <span class="cancelqx">取消</span>
				    </div>
				    <div class="xiugai" data-ji="areagai"><span>填写</span></div>
				</div>
				<div class="middlebianji">
					<span class="localdiqu"></span>
					<div class="areadiv">
						<span>区</span>
						<select class="diqu" name="" id="">
                    	   <option value="0"></option>
                    	   <option value="姑苏区">姑苏区</option>
                        </select>
					</div>
					<div class="citydiv">
					   <span>市</span>
					   <select class="areacity" name="" id="">
                    	<option value="0"></option>
                    	<option value="苏州市">苏州市</option>
                       </select>
					</div>
					<div class="province">
						<span>省</span>
						<select class="areaprovince" name="" id="">
                    	<option value="0"></option>
                    	<option value="江苏省">江苏省</option>
                        </select>
					</div>   
			   </div>
			</div>
			<div class="phonesj">
				<div class="leftbianji smallfont">手机</div>
				<div class="rightbianji">
					<span class="rightjvli">183****7325</span>
				</div>
			</div>
			<div class="passwordmm">
				<div class="leftbianji smallfont">密码</div>
				<div class="rightbianji">
					<span class="chongse">重设</span>
				</div>
			</div>			
		</div>
		<div class="clipyinying"></div>
		<div class="clipwaik">
			<div id="clipArea" class="clipArea">
				<!-- <div id="viewpic" class="viewpic"></div> -->
			</div>
			<div class="anxiuwk">
				<div class="selectpic">
					<span class="mspic">选择图片</span>
					<input id="file" class="filepic" type="file">
				</div>
				<div id="clipBtn" class="xuanqupic"><span>截取</span></div>
				<div class="closequx"><span>取消</span></div>
			</div>
			<div id="viewok" class="viewok"></div>
		</div>

        <div class="guidetanc">
			<span class="guanbi"></span>
			<div class="titleone">重设密码</div>
			<div class="buzouwaik">
				<div class="jiantoubj011">1、验证手机号</div>
				<div class="jiantoubj022">2、设置新密码</div>
			</div>
			<div class="phonewk">
					<span>手机号</span>
					<input type="text" maxlength="11">
			</div>
			<div class="yanzengmwk">
					<span>验证码</span>
					<input type="text">
					<input class="btnyzm" type="button" value="获取验证码">
			</div>
			<div class="tjtishi"></div>
			<div class="surewk">
				<button class="sureqr">确认</button>
			</div>
	  </div>


	  <div class="guidetanc2">

			<span class="guanbi"></span>
			<div class="titleone">重设密码</div>
			<div class="buzouwaik">
				<div class="jiantoubj01">1、验证手机号</div>
				<div class="jiantoubj02">2、设置新密码</div>
			</div>
			<div class="newpassword">
					<span>新密码</span>
					<input type="password" maxlength=20>
			</div>
			<div class="surepassword">
					<span>确认密码</span>
					<input type="password" maxlength=20>
			</div>
			<div class="tjtishi02"></div>
			<div class="surewk">
				<button class="sureqr2">确认</button>
			</div>
	  </div>

	</div>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script src="js/iscroll-zoom.js"></script>
	<script src="js/hammer.js"></script>
	<script src="js/lrz.all.bundle.js"></script>
	<script src="js/jquery.photoClip.min.js"></script>
	<script type="text/javascript" src="js/layer.js"></script>
	<script type="text/javascript" src="js/inforationchange.js"></script>
	<script type="text/javascript">

		var clipArea = new bjj.PhotoClip("#clipArea", {
        size: [260, 260],
        outputSize: [640, 640],
        file: "#file",
        view: "#viewok",
        ok: "#clipBtn",
        loadStart: function() {
            
        },
        loadComplete: function() {
          
        },
        clipFinish: function(dataURL) {
         $('.clipyinying').hide();
         $('.clipwaik').hide();

          var formdata = new FormData();
          formdata.append('file',base64ToBlob(dataURL));
        //   $.ajax({
        //     url: "",
        //     type: "post",
        //     data: formdata,
        //     processData: false,
        //     contentType: false,
        //     success: function (data) {
                 
        //     }
        // });

        }
    });

 
    

      function base64ToBlob(urlData) {
        var arr = urlData.split(',');
        var mime = arr[0].match(/:(.*?);/)[1] || 'image/png';
        // 去掉url的头，并转化为byte
        var bytes = window.atob(arr[1]);
        // 处理异常,将ascii码小于0的转换为大于0
        var ab = new ArrayBuffer(bytes.length);
        // 生成视图（直接针对内存）：8位无符号整数，长度1个字节
        var ia = new Uint8Array(ab);
        
        for (var i = 0; i < bytes.length; i++) {
            ia[i] = bytes.charCodeAt(i);
        }

        return new Blob([ab], {
            type: mime
        });
   
    }

</script>

</body>
</html>