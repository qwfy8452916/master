(function(d){d.pt=d.pureToolTips=function(f){function l(){if(c.target){e.length||(e=d('<div class="pt pt-down"><div class="cont"></div><b class="out"></b><b class="in"></b></div>').appendTo(document.body));e.removeClass().addClass("pt "+(m?v:"")).find(".cont").html(c.content).css({width:c.width,height:c.height});k=e.find(".out").toggle(m);u=e.find(".in").toggle(m);g=e.outerWidth();h=e.outerHeight();m&&w();e.css(x()).show();c.leaveClose&&y();c.autoClose&&!c.leaveClose&&z(c.timeout);return e}}function x(){var n=
m?parseInt(k.css("border-top-width"),10):3,o=m?parseInt(k.css("border-right-width"),10):3,a={};switch(p){case "c":break;case "t":a.top=q;break;case "b":a.top=q+i-h;break;case "l":a.left=r;break;case "r":a.left=r+j-g;break}switch(t){case "t":a.top=q-h-o;break;case "b":a.top=q+i+o;break;case "l":a.left=r-g-n;break;case "r":a.left=r+j+n;break}a.top||(a.top=q+i/2-h/2);a.left||(a.left=r+j/2-g/2);return a}function w(){function n(){if(p==="l"&&j/2>b&&j/2<g-b)a.left=j/2-b/2;else if(p==="r"&&j/2>b&&j/2<g-
b)a.left=g-j/2-b/2}function o(){if(p==="t"&&i/2>b&&i/2<h-b)a.top=i/2-b;else if(p==="b"&&i/2>b&&i/2<h-b)a.top=h-i/2-b}var a,s,b;switch(t){case "t":b=parseInt(k.css("border-top-width"),10);a={bottom:-b,left:g/2-b,top:"auto",right:"auto"};n();s={top:"auto",left:a.left+1,bottom:a.bottom+1,right:"auto"};break;case "b":b=parseInt(k.css("border-bottom-width"),10);a={top:-b,left:g/2-b,right:"auto",bottom:"auto"};n();s={top:a.top+1,left:a.left+1,bottom:"auto",right:"auto"};break;case "l":b=parseInt(k.css("border-left-width"),
10);a={top:h/2-b,right:-b,left:"auto",bottom:"auto"};o();s={top:a.top+1,right:a.right+1,left:"auto",bottom:"auto"};break;case "r":b=parseInt(k.css("border-right-width"),10);a={top:h/2-b,left:-b,right:"auto",bottom:"auto"};o();s={top:a.top+1,left:a.left+1,right:"auto",bottom:"auto"};break}k.css(a);u.css(s)}function z(){window.ptt&&clearTimeout(ptt);window.pta&&clearTimeout(pta);window.pta=setTimeout(function(){e.hide();d.isFunction(c.close)&&c.close()},c.time)}function y(){e.unbind("mouseleave").mouseleave(function(){e.hide();
d.isFunction(c.close)&&c.close()}).unbind("mouseenter").mouseenter(function(){window.ptt&&clearTimeout(ptt)})}var c=d.extend({target:null,position:"t",align:"c",arrow:true,content:"",width:200,height:"auto",autoClose:true,time:2E3,leaveClose:false,close:null},f||{}),k,u,g,h,e=d(".pt");f=d(c.target);var q=f.offset().top,r=f.offset().left,j=f.outerWidth(),i=f.outerHeight(),t=c.position,p=c.align,m=c.arrow;f={b:"pt-up",t:"pt-down",r:"pt-left",l:"pt-right"};var v=f[t]||f.t;return l()};d.fn.pt=d.fn.pureToolTips=
function(f){var l=d.extend({leaveClose:true},f||{});return this.each(function(){d(this).mouseenter(function(){window.ptt&&clearTimeout(ptt);window.pta&&clearTimeout(pta);l.target=this;d.pt(l)}).mouseleave(function(){window.ptt=setTimeout(function(){d(".pt").hide();d.isFunction(l.close)&&l.close()},500)})})}})(jQuery);
