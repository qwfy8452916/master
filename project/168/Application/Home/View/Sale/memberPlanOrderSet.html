<extend name="Main:baseTemplate" />
<block name="title">
	<title>案例管理 - 控制台</title>
</block>
<block name="style">
	<link rel="stylesheet" href="{:C('168NEW_URL')}/assets/common/js/plugins/select2/select2.min.css?v={:C('STATIC_VERSION')}">
	<link rel="stylesheet" type="text/css" href="{:C('168NEW_URL')}/assets/common/css/select2_metro.css?v={:C('STATIC_VERSION')}" />
	<link rel="stylesheet" type="text/css" href="/assets/common/js/plugins/datetimepicker/datepicker.css?v={:C('STATIC_VERSION')}" />
	<link rel="stylesheet" href="{:C('168NEW_URL')}/assets/common/css/global.css?v={:C('STATIC_VERSION')}">
	<link rel="stylesheet" href="{:C('168NEW_URL')}/assets/common/js/plugins/newTree/css/style.css?v={:C('STATIC_VERSION')}">
	<link rel="stylesheet" href="{:C('168NEW_URL')}/assets/home/css/specialarticle.css?v={:C('STATIC_VERSION')}">
	<link rel="stylesheet" href="{:C('168NEW_URL')}/assets/home/css/sale.css?v={:C('STATIC_VERSION')}">
</block>

<block name="content">
	<style type="text/css">
		.bf-time:before {
			content: '生效日期';
			width: 60px;
			height: 20px;
			position: absolute;
			top: 8px;
			left: -50px;
		}
		
		.bf-time:after {
			content: '到';
			width: 20px;
			height: 20px;
			position: absolute;
			top: 8px;
			right: -10px;
		}
		
		.bf-num:before {
			content: '指标值';
			width: 60px;
			height: 20px;
			position: absolute;
			top: 8px;
			left: -50px;
		}
		
		.bf-city:before {
			content: '会员城市';
			width: 60px;
			height: 20px;
			position: absolute;
			top: 8px;
			left: -50px;
		}
		
		.city-first {
			width: 20px;
			height: 20px;
			position: absolute;
			top: 2px;
			left: -5px;
		}
		
		.bf-city label {
			line-height: 35px;
			margin-right: 20px;
		}
		
		.mt20 {
			margin-top: 20px;
		}
		
		.city-check div {
			width: 80px;
			float: left;
			margin-right: 10px;
		}
		
		.city-check {
			moz-user-select: -moz-none;
			-moz-user-select: none;
			-o-user-select: none;
			-khtml-user-select: none;
			/* you could also put this in a class */
			-webkit-user-select: none;
			/* and add the CSS class here instead */
			-ms-user-select: none;
			user-select: none;
			/**禁止选中文字*/
		}
	</style>
	<section class="content-header">
		<h1>会员分单指标设置</h1>
	</section>

	<section class="content">
		<div class="row">
			<div class="col-xs-12">
				<div class="box box-default">
					<div class="row">
					<div class="col-sm-2 tree-menu left-tree">
								<div class="tree">
									<ul>
										<li class="parent_li">
											<span title="Collapse this branch" class="h4" style="margin: 0;">
										<i class="fa fa-line-chart"></i>
										指标类型
									</span>
											<i id="addIndexStyle"  class="fa fa-plus-square-o cursor sale-marginleft-10"></i>
											<ul id="addCityPointContainer">
												<li>
													<span class="sale-width-100" id="mdPoint-1">
												会员指标
												<i class="fa fa-trash-o sale-float-right cursor"></i>
												<i data-toggle="modal" data-target="#addPointAlert"  class="fa fa-edit sale-float-right sale-marginright-20 cursor"></i>
											</span>
												</li>
												<li>
													<span class="sale-width-100" id="mdPoint-2">
												会员指标
												<i class="fa fa-trash-o sale-float-right cursor"></i>
												<i data-toggle="modal" data-target="#addPointAlert" class="fa fa-edit sale-float-right sale-marginright-20 cursor"></i>
											</span>
												</li>
												<li>
													<span class="sale-width-100" id="mdPoint-3">
												会员指标
												<i class="fa fa-trash-o sale-float-right cursor"></i>
												<i data-toggle="modal" data-target="#addPointAlert" class="fa fa-edit sale-float-right sale-marginright-20 cursor"></i>
											</span>
												</li>
												<li>
													<span class="sale-width-100" id="mdPoint-4">会员指标
													<i class="fa fa-trash-o sale-float-right cursor"></i>
													<i data-toggle="modal" data-target="#addPointAlert" class="fa fa-edit sale-float-right sale-marginright-20 cursor"></i>
											</span>
												</li>

											</ul>
										</li>
									</ul>
								</div>
					
					</div>
					<div class="col-sm-9">
								<div class="h4">本月承诺单数</div>
								<div>
									<div class=""><button class="btn btn-info" type="button" data-toggle="modal" data-target="#myModal">新增承诺单数</button></div>
									<div class="h5">
										<span>
									每页显示
									<select>
										<option>100</option>
									</select>
									条
								</span>
										<form role="from" style="float: right;">
											<div class="col-xs-12">
												<div class="col-xs-10" style="padding: 0;"><input type="text" name="" class="form-control input-sm" placeholder="" /></div>
												<div class="col-xs-2" style="padding: 0;"><button class="btn btn-sm btn-primary">搜索</button></div>
											</div>
										</form>
									</div>
								</div>
								<div>
									<table id="myTable" class="table table-bordered table-hover dataTable no-footer" role="grid" aria-describedby="myTable_info">
										<thead>
											<tr role="row"></tr>
											<tr role="row">
												<th class="sorting_asc" tabindex="0" aria-controls="myTable">会员</th>
												<th class="sorting_asc" tabindex="0" aria-controls="myTable">城市</th>
												<th class="sorting" tabindex="0" aria-controls="myTable">承诺单数</th>
												<th class="sorting" tabindex="0" aria-controls="myTable">最近一次操作日期</th>
												<th class="sorting" tabindex="0" aria-controls="myTable">生效日期</th>
												<th class="sorting" tabindex="0" aria-controls="myTable">操作</th>
											</tr>
										</thead>
										<tbody>
											<tr role="row" class="odd">
												<td class="sorting_1">苏州蓝狐装饰</td>
												<td>昆山</td>
												<td>15</td>
												<td>2016-10-20</td>
												<td>2016-10-20~2016-10-20</td>
												<td><button type="button" data-toggle="modal" data-target="#addPointAlert" class="btn btn-success btn-xs">修改</button></td>
											</tr>
											<tr role="row" class="odd">
												<td class="sorting_1">苏州蓝狐装饰</td>
												<td>昆山</td>
												<td>15</td>
												<td>2016-10-20</td>
												<td>2016-10-20~2016-10-20</td>
												<td><button type="button" data-toggle="modal" data-target="#addPointAlert" class="btn btn-success btn-xs">修改</button></td>
											</tr>
											<tr role="row" class="odd">
												<td class="sorting_1">苏州蓝狐装饰</td>
												<td>昆山</td>
												<td>15</td>
												<td>2016-10-20</td>
												<td>2016-10-20~2016-10-20</td>
												<td><button type="button" data-toggle="modal" data-target="#addPointAlert" class="btn btn-success btn-xs">修改</button></td>
											</tr>
										</tbody>
									</table>
									<!-- 会员指标模态框（Modal） -->
									<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
													<h4 class="modal-title" id="myModalLabel">新增承诺单数</h4>
												</div>
												<div class="modal-body" style="height: auto;overflow: hidden;">
													<div class="col-lg-12">
														<div class="col-xs-1"></div>
														<div class="col-xs-5 bf-time">
															<input type="text" name="" class="form-control datepicker" placeholder="选择时间" />
														</div>
														<div class="col-xs-5">
															<input type="text" name="" class="form-control datepicker" placeholder="选择时间" />
														</div>
													</div>
													<div class="col-xs-12 mt20">
														<div class="col-xs-1"></div>
														<div class="col-xs-10 bf-num">
															<input type="text" name="" class="form-control" placeholder="承诺单数" />
														</div>
													</div>
													<div class="col-xs-12 mt20">
														<div class="col-xs-1"></div>
														<div class="col-xs-10 bf-city">
															<label><div style="color: blue;" data-toggle="modal" data-target="#city-modal"><a href="javascript:;">全部城市</a></div></label>
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default pull-left" data-dismiss="modal">关闭</button>
													<button type="button" class="btn btn-primary">确定</button>
												</div>
											</div>
										</div>
									</div>
									<!-- city模态框（Modal） -->
									<div class="modal fade" id="city-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
													<h4 class="modal-title" id="myModalLabel">城市</h4>
												</div>
												<div class="modal-body" style="height: auto;overflow: hidden;">
													<div class="col-xs-12 all-city-first">
														<button class="btn btn-success ">ABC</button>
														<button class="btn">DEF</button>
														<button class="btn">GHJ</button>
														<button class="btn">KLM</button>
														<button class="btn">NPQ</button>
														<button class="btn">RST</button>
														<button class="btn">WXYZ</button>
													</div>
													<div class="col-xs-12 mt20">
														<i class="city-first">A</i>
														<div class="city-check">
															<div class="fisrt-label"><label><input onclick="selectAllCity(this);" type="checkbox" class="text-input" name=""><span class="text-success">全选</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span><i class="fa-male"></i></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
															<div><label><input type="checkbox" name=""><span>安吉吉</span></label></div>
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default pull-left" data-dismiss="modal">关闭</button>
													<button type="button" class="btn btn-primary">确定</button>
												</div>
											</div>
										</div>
									</div>
								</div>

					</div>
					</div>
					</div>
			</div>
		</div>

	</section>
	<div class="modal fade" id="addPointAlert" tabindex="-1" role="dialog" aria-labelledby="myModalLabe1l" aria-hidden="true">
		<div class="modal-dialog">
			<div class="sale-alert">
				<span class="sale-alert-title">设置承诺单数</span>
				<span data-dismiss="modal" class="sale-alert-close cursor">关闭</span>
				<!--<span id="cityClose" data-dismiss="modal" class="sale-alert-close">关闭</span>-->
				<div class="sale-margintop-100"><span>单数：</span><input type="text" class="condition" /></div>
				<button id="confirmAddPoint" type="button" class="btn col-sm-3 btn-success sale-float-right sale-marginright-20 sale-margintop-20 sale-marginbottom-20" data-id="2">确定</button>
			</div>
		</div>
	</div>
</block>
<block name="script">
	<script src="{:C('168NEW_URL')}/assets/common/js/plugins/select2/select2.js?v={:C('STATIC_VERSION')}"></script>
	<script src="{:C('168NEW_URL')}/assets/common/js/plugins/datetimepicker/bootstrap-datepicker.js?v={:C('STATIC_VERSION')}"></script>
	<script src="{:C('168NEW_URL')}/assets/common/js/select2.min.js?v={:C('STATIC_VERSION')}"></script>\
	<script src="{:C('168NEW_URL')}/assets/home/js/sale.js?v={:C('STATIC_VERSION')}"></script>
	<script type="text/javascript">
		$(function() {
			$(".datepicker").datepicker({
				format: "yyyy-mm-dd",
				minViewMode: 0
			});
			// 城市Tab切换
			$('.all-city-first').find('button').on('click', function() {
				$(this).addClass('btn-success').siblings().removeClass('btn-success');
				var str = $(this).text();
				$('.city-first').each(function(index) {
					$('.city-first').eq(index).text(str.charAt(index));
				});
			});
		});
		var selectAllCity = function(a) {
			// console.log(a);
			a = $(a);
			var cks = a.parent().parent().parent().find(":checkbox");
			!a.data("checked") ? cks.prop("checked", true) & a.data("checked", 1) : cks.prop("checked", false) & a.data("checked", 0);
		}
	</script>
</block>